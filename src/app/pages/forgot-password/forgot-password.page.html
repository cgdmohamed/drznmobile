<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login" text=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="forgot-password-container">
    <!-- Logo -->
    <div class="logo-container">
      <img src="assets/images/logo.svg" alt="DARZN" />
    </div>
    
    <h1 class="ion-text-center">استرجاع كلمة المرور</h1>
    <p class="ion-text-center ion-padding-horizontal">الرجاء إدخال البريد الإلكتروني المرتبط بحسابك لإرسال رابط إعادة تعيين كلمة المرور</p>
    
    <!-- Error message -->
    <ion-text color="danger" *ngIf="resetError" class="error-message ion-text-center">
      <p>{{ resetError }}</p>
    </ion-text>
    
    <!-- Forgot Password Form -->
    <form [formGroup]="forgotPasswordForm" (ngSubmit)="resetPassword()">
      <ion-list class="ion-no-padding">
        <ion-item>
          <ion-label position="floating">البريد الإلكتروني</ion-label>
          <ion-input type="email" formControlName="email" autocomplete="email"></ion-input>
        </ion-item>
        <div class="validation-error" *ngIf="forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.invalid">
          <div *ngIf="forgotPasswordForm.get('email')?.errors?.required">يرجى إدخال البريد الإلكتروني</div>
          <div *ngIf="forgotPasswordForm.get('email')?.errors?.email">يرجى إدخال بريد إلكتروني صحيح</div>
        </div>
      </ion-list>
      
      <div class="form-buttons">
        <ion-button expand="block" type="submit" [disabled]="forgotPasswordForm.invalid">
          إرسال رابط التعيين
        </ion-button>
        
        <ion-button expand="block" fill="outline" (click)="goToLogin()">
          العودة لتسجيل الدخول
        </ion-button>
      </div>
    </form>
    
    <div class="help-text ion-text-center">
      <p>في حال لم تستلم البريد الإلكتروني، يرجى التحقق من مجلد البريد المزعج أو التواصل مع خدمة العملاء</p>
    </div>
  </div>
</ion-content>